import{b as a}from"./chunk-STP3WM4P.js";import{x as h}from"./chunk-3KOIEGY5.js";import{e as u}from"./chunk-BZNYC5N3.js";import"./chunk-XOLXN3IC.js";import{Db as i,Eb as s,Fb as c,Mb as l,Vb as m,na as n,ta as d}from"./chunk-PHL42RAN.js";var D=(()=>{class r{authFacade=n(h);router=n(u);ngOnInit(){this.redirectToRoleDashboard()}redirectToRoleDashboard(){let o=this.authFacade.getCurrentUser();if(!o){console.warn("No user found, redirecting to login"),this.router.navigate(["/login"]);return}let e=o.role,t="";switch(e){case a.ADMIN:t="/admin/dashboard";break;case a.VENDEDOR:t="/vendedor/dashboard";break;case a.COMPRADOR:t="/comprador/dashboard";break;default:console.warn("Unknown user role:",e),t="/login";break}console.log(`Redirecting ${e} to ${t}`),this.router.navigate([t])}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=d({type:r,selectors:[["app-dashboard-redirect"]],standalone:!0,features:[m],decls:5,vars:0,consts:[[1,"flex","items-center","justify-center","min-h-screen"],[1,"text-center"],[1,"animate-spin","rounded-full","h-32","w-32","border-b-2","border-blue-600","mx-auto"],[1,"mt-4","text-gray-600"]],template:function(e,t){e&1&&(i(0,"div",0)(1,"div",1),c(2,"div",2),i(3,"p",3),l(4,"Redirigiendo al dashboard..."),s()()())},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100vh}"]})}return r})();export{D as DashboardRedirectComponent};
